(function(t){function e(e){for(var a,c,o=e[0],i=e[1],l=e[2],d=0,p=[];d<o.length;d++)c=o[d],Object.prototype.hasOwnProperty.call(r,c)&&r[c]&&p.push(r[c][0]),r[c]=0;for(a in i)Object.prototype.hasOwnProperty.call(i,a)&&(t[a]=i[a]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,l||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var i=n[o];0!==r[i]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},s=[];function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],i=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var u=i;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},1219:function(t,e,n){},"1e20":function(t,e,n){},2043:function(t,e,n){},3534:function(t,e,n){"use strict";n("4227")},4227:function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"app"}},[n("router-view")],1)},s=[],c=n("8c4f"),o=n("0ff2"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:"Danh sách lớp học",icon:""},on:{onClickNavIcon:function(t){}}}),n("v-container",{staticClass:"home-wrapper"},[n("v-card",{staticClass:"mt-5"},[n("v-banner",{staticClass:"pink--text font-weight-bold"},[t._v(" Tạo lớp học ")]),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"1"}},[n("v-text-field",{attrs:{label:"Nhập tên lớp học"},model:{value:t.newClassName,callback:function(e){t.newClassName=e},expression:"newClassName"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{icon:"",large:"",color:"pink",raised:""},on:{click:function(e){return t.addClass()}}},[n("v-icon",[t._v(" mdi-plus-circle")])],1)],1)],1)],1),n("v-card",{staticClass:"mt-7",attrs:{id:"class-list-wrapper"}},[n("v-banner",{staticClass:"pink--text font-weight-bold"},[t._v(" Danh sách lớp học ")]),n("v-container",{attrs:{fluid:"",id:"class-list"}},t._l(t.chickenClass,(function(e){return n("v-row",{key:e.id,staticClass:"mb-1"},[n("v-col",{attrs:{cols:"8",offset:"2"}},[n("v-btn",{staticClass:"white--text",attrs:{color:"pink",block:""},on:{click:function(n){return t.selectClass(e)}}},[t._v(" "+t._s(e.className)+" ")])],1)],1)})),1)],1),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)],1)},l=[],u=(n("7db0"),n("d81d"),n("96cf"),n("1da1")),d=n("2591"),p=(n("e71f"),{apiKey:"AIzaSyAaFsKdZmxEcdkGbdTY-DDloaern7iTCjc",authDomain:"chicken-1122b.firebaseapp.com",databaseURL:"https://chicken-1122b.firebaseio.com",projectId:"chicken-1122b",storageBucket:"chicken-1122b.appspot.com",messagingSenderId:"858563379585",appId:"1:858563379585:web:7ab6583ee5932bf7572880",measurementId:"G-G7HP0YKDLQ"}),m=d["a"].initializeApp(p).firestore(),f=m,h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-snackbar",{model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v(" "+t._s(t.text)+" "),n("v-btn",{attrs:{color:"pink",text:""},on:{click:function(e){return t.$emit("update:text","")}}},[t._v(" Close ")])],1)},v=[],b={name:"SnackbarComponent",props:["text"],computed:{snackbar:function(){return!!this.text}}},k=b,C=n("2877"),g=Object(C["a"])(k,h,v,!1,null,"8276fef6",null),x=g.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{staticClass:"white--text",attrs:{fixed:"",color:"pink",id:"app-bar"}},[t.icon?n("v-app-bar-nav-icon",{attrs:{color:"white"},on:{click:function(e){return t.$emit("onClickNavIcon")}}},[n("v-icon",[t._v(t._s(t.icon))])],1):t._e(),n("v-toolbar-title",[t._v(t._s(t.title))])],1)},_=[],y={name:"HeaderComponent",props:["title","icon"]},S=y,$=(n("849f"),Object(C["a"])(S,w,_,!1,null,null,null)),N=$.exports,M={name:"HomeComponent",components:{SnackbarComponent:x,HeaderComponent:N},data:function(){return{newClassName:"",errorMessage:"",chickenClass:[]}},firestore:{chickenClass:f.collection("chickenClass")},methods:{addClass:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f.collection("chickenClass").get();case 2:if(n=e.sent.docs.map((function(t){return t.data()})),a=n.find((function(e){return e.className===t.newClassName})),!a){e.next=8;break}t.errorMessage="Lớp học này có rùi",e.next=22;break;case 8:if(t.newClassName){e.next=12;break}t.errorMessage="Tên lớp học không để trống nha!",e.next=22;break;case 12:return e.prev=12,e.next=15,f.collection("chickenClass").add({className:t.newClassName});case 15:t.newClassName="",t.errorMessage="",e.next=22;break;case 19:e.prev=19,e.t0=e["catch"](12),t.errorMessage=e.t0;case 22:case"end":return e.stop()}}),e,null,[[12,19]])})))()},selectClass:function(t){this.$router.push({name:"class",params:{classId:t.id,className:t.className}})}}},D=M,I=(n("d1f6"),Object(C["a"])(D,i,l,!1,null,null,null)),O=I.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:t.dataClass.className,icon:"mdi-arrow-left"},on:{onClickNavIcon:function(e){return t.$router.back()}}}),n("v-container",{attrs:{id:"content-wrapper"}},[t.isOldClass?n("div",{staticClass:"btn-wrapper"},[n("v-btn",{staticClass:"white--text button-custom",attrs:{color:"pink"},on:{click:function(e){return t.gotoAttendance()}}},[t._v("Điểm danh")])],1):t._e(),n("div",{staticClass:"btn-wrapper"},[t.isOldClass?n("v-btn",{staticClass:"white--text button-custom",attrs:{color:"pink"},on:{click:function(e){return t.gotoEdit()}}},[t._v("Sửa / Thêm học sinh ")]):n("v-btn",{staticClass:"white--text button-custom",attrs:{color:"pink"},on:{click:function(e){return t.gotoEdit()}}},[t._v("Thêm học sinh")])],1),n("div",{staticClass:"btn-wrapper"},[n("v-btn",{staticClass:"white--text button-custom",attrs:{color:"pink"},on:{click:function(e){t.isDisplayDialogConfirm=!0}}},[t._v("Xóa lớp học")])],1),t.dataClass.price?n("div",{staticClass:"btn-wrapper"},[n("v-btn",{staticClass:"white--text button-custom",attrs:{color:"pink"},on:{click:function(e){return t.gotoSummary()}}},[t._v("Bảng tổng hợp tiền học")])],1):t._e(),n("v-card",{staticClass:"mt-5"},[n("v-banner",{staticClass:"pink--text font-weight-bold"},[t._v(" Giá tiền 1 buổi ")]),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"1"}},[n("v-text-field",{attrs:{label:"Nhập giá tiền - vnd"},model:{value:t.dataClass.price,callback:function(e){t.$set(t.dataClass,"price",e)},expression:"dataClass.price"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{attrs:{icon:"",large:"",color:"pink",raised:""},on:{click:function(e){return t.savePrice(t.dataClass.price)}}},[n("v-icon",[t._v("mdi-content-save")])],1)],1)],1)],1)],1),n("confirm-dialog-component",{attrs:{dialog:t.isDisplayDialogConfirm,title:"Chắc chắn chưa ?",content:"Sau khi xóa dữ liệu lớp học sẽ không thể lấy lại được đâu nha !!"},on:{onAgree:function(e){return t.removeClass()},"update:dialog":function(e){t.isDisplayDialogConfirm=e}}}),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)},E=[],R=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline pink--text"},[t._v(" "+t._s(t.title)+" ")]),n("v-card-text",[t._v(" "+t._s(t.content)+" ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"pink darken-1",text:""},on:{click:function(e){return t.onClickCancel()}}},[t._v("Hủy")]),n("v-btn",{attrs:{color:"pink darken-1",text:""},on:{click:function(e){return t.onClickOK()}}},[t._v("Xóa")])],1)],1)],1)},A=[],T={name:"ConfirmDialogComponent",props:["title","content","dialog"],methods:{onClickOK:function(){this.$emit("update:dialog",!1),this.$emit("onAgree")},onClickCancel:function(){this.$emit("update:dialog",!1)}}},H=T,P=Object(C["a"])(H,R,A,!1,null,"96baac22",null),B=P.exports,F={name:"ClassDetailComponent",components:{ConfirmDialogComponent:B,SnackbarComponent:x,HeaderComponent:N},firestore:{chickenClass:f.collection("chickenClass")},data:function(){return{isDisplayDialogConfirm:!1,errorMessage:"",students:{},dataClass:{}}},created:function(){var t=this.$route.params.classId;this.$bind("students",f.collection("chickenClass").doc(t).collection("data")),this.$bind("dataClass",f.collection("chickenClass").doc(t))},computed:{isOldClass:function(){return this.students.length>0}},methods:{gotoEdit:function(){var t=this.$route.params.classId;this.$router.push({name:"edit",params:{classId:t}})},gotoAttendance:function(){var t=this.$route.params.classId;this.$router.push({name:"attendance",params:{classId:t}})},removeClass:function(){var t=this.$route.params.classId;try{f.collection("chickenClass").doc(t).delete(),this.$router.back()}catch(e){this.errorMessage=e}},savePrice:function(t){var e=this.$route.params.classId;try{f.collection("chickenClass").doc(e).update({price:t})}catch(n){this.errorMessage=n}},gotoSummary:function(){var t=this.$route.params.classId;this.$router.push({name:"summary",params:{classId:t}})}}},K=F,G=(n("e04e"),Object(C["a"])(K,j,E,!1,null,"60c03120",null)),Y=G.exports,L=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:t.dataClass.className+" / Danh sách",icon:"mdi-arrow-left"},on:{onClickNavIcon:function(e){return t.$router.back()}}}),n("v-container",{attrs:{id:"wrapper"}},[n("v-card",{staticClass:"mb-10 mt-5"},[n("v-banner",{staticClass:"font-weight-bold",attrs:{color:"pink--text"}},[t._v("Học sinh mới")]),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"1"}},[n("v-text-field",{attrs:{label:"Nhập tên học sinh"},model:{value:t.newStudentName,callback:function(e){t.newStudentName=e},expression:"newStudentName"}})],1),n("v-col",{attrs:{cols:"2"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{large:"",color:"pink",icon:""},on:{click:function(e){return t.addStudent()}}},[n("v-icon",[t._v("mdi-account-plus")])],1)],1)],1)],1),n("v-card",[n("v-banner",{staticClass:"font-weight-bold",attrs:{color:"pink--text"}},[t._v(" Danh sách học sinh")]),n("v-container",{attrs:{id:"member-list"}},t._l(t.students,(function(e){return n("v-row",{key:e.id,staticClass:"mb-1",attrs:{align:"center"}},[n("v-container",[t.editedStudent&&t.editedStudent.id===e.id?n("v-row",{attrs:{offset:"1",align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"1"}},[n("v-text-field",{attrs:{label:"Nhập tên học sinh"},on:{onblur:function(n){return t.editStudent(e)}},model:{value:e.studentName,callback:function(n){t.$set(e,"studentName",n)},expression:"student.studentName"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"white--text",attrs:{color:"pink",raised:""},on:{click:function(n){return t.editStudent(e)}}},[t._v("Lưu")])],1)],1):n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"pl-5",attrs:{cols:"8"}},[t._v(t._s(e.studentName))]),n("v-col",{attrs:{cols:"1"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{icon:"",color:"pink"},on:{click:function(n){t.isDisplayDialogConfirm=!0,t.currentStudentId=e.id}}},[n("v-icon",[t._v("mdi-account-remove")])],1)],1),n("v-col",{attrs:{cols:"1"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{icon:"",color:"pink"},on:{click:function(n){return t.onClickEditBtn(e)}}},[n("v-icon",[t._v("mdi-pencil")])],1)],1),n("v-col",{attrs:{cols:"1"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{color:"pink",icon:""},on:{click:function(n){return t.editAttendanceData(e.id)}}},[n("v-icon",[t._v("mdi-calendar")])],1)],1)],1)],1)],1)})),1)],1),n("confirm-dialog-component",{attrs:{dialog:t.isDisplayDialogConfirm,title:"Chắc chắn chưa ?",content:"Sau khi xóa dữ liệu học sinh sẽ không thể lấy lại được đâu nha !!"},on:{"update:dialog":function(e){t.isDisplayDialogConfirm=e},onAgree:function(e){return t.removeStudent(t.currentStudentId)}}}),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)],1)},z=[],J={name:"EditStudentInfoComponent",components:{ConfirmDialogComponent:B,SnackbarComponent:x,HeaderComponent:N},created:function(){var t=this.$route.params.classId;this.$bind("students",f.collection("chickenClass").doc(t).collection("data")),this.$bind("dataClass",f.collection("chickenClass").doc(t))},data:function(){return{dataClass:{},currentStudentId:null,editedStudent:null,isEdited:!1,students:[],newStudentName:"",errorMessage:"",isDisplayDialogConfirm:!1}},computed:{studentsRef:function(){return f.collection("chickenClass").doc(this.$route.params.classId).collection("data")}},methods:{onClickEditBtn:function(t){this.isEdited||(this.editedStudent=t,this.isEdited=!0)},editStudent:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!t.studentName){n.next=9;break}return n.next=4,e.studentsRef.doc(e.editedStudent.id).update({studentName:t.studentName});case 4:e.editedStudent=null,e.errorMessage="",e.isEdited=!1,n.next=10;break;case 9:e.errorMessage="Name can't empty";case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),e.errorMessage=n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},removeStudent:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.studentsRef.doc(t).delete();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),e.errorMessage=n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},addStudent:function(){var t=this;return Object(u["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.students.find((function(e){return e===t.newStudentName})),!n){e.next=5;break}t.errorMessage="Học sinh này đã tồn tại rùi!",e.next=19;break;case 5:if(e.prev=5,!t.newStudentName){e.next=13;break}return e.next=9,t.studentsRef.add({studentName:t.newStudentName});case 9:t.newStudentName="",t.errorMessage="",e.next=14;break;case 13:t.errorMessage="Tên học sinh không được để trống nhé!";case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),t.errorMessage=e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,16]])})))()},editAttendanceData:function(t){var e=this.$route.params.classId;this.$router.push({name:"edit_attendance",params:{studentId:t,classId:e}})}}},V=J,X=(n("3534"),Object(C["a"])(V,L,z,!1,null,"5d1dc152",null)),Q=X.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:"Điểm danh",icon:"mdi-arrow-left"},on:{onClickNavIcon:function(e){return t.$router.back()}}}),n("v-container",{attrs:{id:"container"}},t._l(t.students,(function(e){return n("v-row",{key:e.id,attrs:{id:"student-list",align:"center"}},[n("v-col",{attrs:{cols:"12"}},[n("v-card",[n("v-row",[n("v-col",{attrs:{cols:"9",offset:"1"}},[t._v(t._s(e.studentName))]),n("v-col",{attrs:{cols:"2"}},[t.getAttendance(e)?n("v-btn",{attrs:{icon:"",color:"pink"},on:{click:function(n){return t.onAttendance(e,!1)}}},[n("v-icon",[t._v("mdi-heart")])],1):n("v-btn",{attrs:{icon:"",color:"pink"},on:{click:function(n){return t.onAttendance(e,!0)}}},[n("v-icon",[t._v("mdi-heart-outline")])],1)],1)],1)],1)],1)],1)})),1),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)},Z=[],q=(n("99af"),n("4de4"),n("caad"),n("2532"),{name:"AttendanceComponent",components:{HeaderComponent:N,SnackbarComponent:x},created:function(){var t=this.$route.params.classId;this.$bind("students",f.collection("chickenClass").doc(t).collection("data"))},data:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,a="".concat(e,"_").concat(n),r=t.getDate();return{students:[],errorMessage:"",key:a,date:r}},computed:{studentsRef:function(){return f.collection("chickenClass").doc(this.$route.params.classId).collection("data")}},methods:{onAttendance:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return t.data=t.data||{},r=t.data,s=r[n.key]||[],e?s.push(n.date):s=s.filter((function(t){return t!==n.date})),t.data[n.key]=s,a.prev=5,a.next=8,n.studentsRef.doc(t.id).update({data:t.data});case 8:a.next=13;break;case 10:a.prev=10,a.t0=a["catch"](5),n.errorMessage=a.t0;case 13:case"end":return a.stop()}}),a,null,[[5,10]])})))()},getAttendance:function(t){return!(!t.data||!t.data[this.key])&&t.data[this.key].includes(this.date)}}}),W=q,tt=(n("8eb4"),Object(C["a"])(W,U,Z,!1,null,"4db86bf1",null)),et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:t.dataStudent.studentName,icon:"mdi-arrow-left"},on:{onClickNavIcon:function(e){return t.$router.back()}}}),n("div",{attrs:{id:"calendar-wrap"}},[n("FullCalendar",{staticClass:"demo-app-calendar",attrs:{options:t.calendarOptions}})],1),n("div",{staticClass:"pink--text text-center"},[t._v(" Click vào ngày để sửa nhé !")]),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)},at=[],rt=(n("4160"),n("b64b"),n("ac1f"),n("1276"),n("159b"),n("f5ff")),st=n("3cdd"),ct=n("a20c"),ot={components:{FullCalendar:rt["a"],HeaderComponent:N,SnackbarComponent:x},name:"StudentDataMonthComponent",created:function(){var t=this.$route.params.classId,e=this.$route.params.studentId;this.$bind("dataStudent",f.collection("chickenClass").doc(t).collection("data").doc(e))},data:function(){return{dataStudent:{},selectedDate:null,errorMessage:""}},computed:{studentsRef:function(){var t=this.$route.params.classId,e=this.$route.params.studentId;return f.collection("chickenClass").doc(t).collection("data").doc(e)},dates:function(){var t=this.dataStudent["data"]||{},e=[];return Object.keys(t).forEach((function(n){var a=n.split("_"),r=a[0],s=a[1],c=t[n]||[];e=e.concat(c.map((function(t){return t=t<10?"0"+t:t,"".concat(r,"-").concat(s,"-").concat(t)})))})),e},calendarOptions:function(){var t=this.dates.map((function(t){return{title:"OK",date:t}}));return{plugins:[st["a"],ct["a"]],height:"70vh",initialView:"dayGridMonth",events:t,eventColor:"#e91e63",locale:"vn",firstDay:1,headerToolbar:{start:"title",center:"",end:"today prev,next"},themeSystem:"bootstrap",titleFormat:{month:"numeric",year:"numeric"},dateClick:this.handleDateClick,eventClick:this.handleEventClick}}},methods:{handleDateClick:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(e.errorMessage="",a=t.date.getDate(),r=t.date.getMonth()+1,r=r<10?"0"+r:r,s=t.date.getFullYear(),c=s+"_"+r,!e.isAttDate(t.dateStr)){n.next=11;break}return n.next=9,e.removeAtt(a,c);case 9:n.next=13;break;case 11:return n.next=13,e.addAtt(a,c);case 13:case"end":return n.stop()}}),n)})))()},isAttDate:function(t){return this.dates.includes(t)},handleEventClick:function(t){var e=this;return Object(u["a"])(regeneratorRuntime.mark((function n(){var a,r,s,c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.errorMessage="",a=t.event.start.getDate(),r=t.event.start.getMonth()+1,r=r<10?"0"+r:r,s=t.event.start.getFullYear(),c=s+"_"+r,n.prev=6,n.next=9,e.removeAtt(a,c);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n["catch"](6),e.errorMessage=n.t0;case 14:case"end":return n.stop()}}),n,null,[[6,11]])})))()},removeAtt:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.dataStudent["data"],r[e]=r[e].filter((function(e){return e!==t})),a.prev=2,a.next=5,n.studentsRef.update({data:r});case 5:a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](2),n.errorMessage=a.t0;case 10:case"end":return a.stop()}}),a,null,[[2,7]])})))()},addAtt:function(t,e){var n=this;return Object(u["a"])(regeneratorRuntime.mark((function a(){var r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return r=n.dataStudent["data"]||{},r[e]=r[e]||[],r[e].push(t),a.prev=3,a.next=6,n.studentsRef.update({data:r});case 6:a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](3),n.errorMessage=a.t0;case 11:case"end":return a.stop()}}),a,null,[[3,8]])})))()}}},it=ot,lt=(n("7104"),Object(C["a"])(it,nt,at,!1,null,null,null)),ut=lt.exports,dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:t.dataClass.className+" / Tổng hợp",icon:"mdi-arrow-left"},on:{onClickNavIcon:function(e){return t.$router.back()}}}),n("div",{attrs:{id:"content-wrapper"}},[n("v-card",{staticClass:"ma-5 pa-5",attrs:{id:"time-picker"}},[n("v-row",[n("v-col",{attrs:{cols:"11",sm:"5"}},[n("v-menu",{ref:"menu",attrs:{"close-on-content-click":!1,"return-value":t.date,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},on:{"update:returnValue":function(e){t.date=e},"update:return-value":function(e){t.date=e}},scopedSlots:t._u([{key:"activator",fn:function(e){var a=e.on,r=e.attrs;return[n("v-text-field",t._g(t._b({attrs:{label:"Chọn thời gian","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},"v-text-field",r,!1),a))]}}]),model:{value:t.menu,callback:function(e){t.menu=e},expression:"menu"}},[n("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:"",locale:"vi",color:"pink"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}},[n("v-spacer"),n("v-btn",{attrs:{text:"",color:"pink"},on:{click:function(e){t.menu=!1}}},[t._v("Cancel")]),n("v-btn",{attrs:{text:"",color:"pink"},on:{click:function(e){return t.$refs.menu.save(t.date)}}},[t._v("OK ")])],1)],1)],1)],1)],1),n("v-card",{staticClass:"ma-5",attrs:{id:"summary-table-wrapper"}},[n("v-banner",{staticClass:"font-weight-bold pink--text"},[t._v("Bảng tổng hợp "+t._s(t.date))]),n("div",{staticClass:"pb-5",attrs:{id:"summary-table"}},[n("v-simple-table",{attrs:{dense:""},scopedSlots:t._u([{key:"default",fn:function(){return[n("thead",[n("tr",{attrs:{bgcolor:"#e91e63"}},[n("th",{staticClass:"text-center white--text"},[t._v("Tên học sinh")]),n("th",{staticClass:"text-center white--text"},[t._v("Buổi học")]),n("th",{staticClass:"text-center white--text"},[t._v("Tiền học")])])]),n("tbody",t._l(t.students,(function(e){return n("tr",{key:e.id},[n("td",{staticClass:"text-center"},[t._v(t._s(e.name))]),n("td",{staticClass:"text-center",staticStyle:{"max-width":"30vw"}},[t._v(t._s(e.number))]),n("td",{staticClass:"text-center"},[t._v(t._s(e.total))])])})),0)]},proxy:!0}])})],1),n("div",{attrs:{id:"note"}},[n("div",{staticClass:"pink--text"},[t._v("Note : Buổi học hiển thị như sau :")]),n("div",{staticClass:"pink--text"},[t._v("Số buổi học (Những ngày học sinh đã đi học)")])])],1)],1),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)},pt=[],mt=(n("a630"),n("d3b7"),n("6062"),n("3ca3"),n("5319"),n("ddb0"),{name:"SummaryComponent",components:{SnackbarComponent:x,HeaderComponent:N},data:function(){return{date:(new Date).toISOString().substr(0,7),menu:!1,modal:!1,errorMessage:"",dataClass:{},studentsData:{}}},created:function(){var t=this.$route.params.classId;this.$bind("dataClass",f.collection("chickenClass").doc(t)),this.$bind("studentsData",f.collection("chickenClass").doc(t).collection("data"))},computed:{students:function(){var t=this,e=this.date.replace("-","_");return this.studentsData.map((function(n){var a=n.id,r=n.studentName,s=n.data||{},c=s[e]||[],o=Array.from(new Set(c)),i=o.length,l=o.length+(o.length>0?"(".concat(o.sort((function(t,e){return t-e})),")"):""),u=String(t.price*i).replace(/(.)(?=(\d{3})+$)/g,"$1,");return{id:a,name:r,number:l,total:u}}))},price:function(){return this.dataClass.price||0}}}),ft=mt,ht=(n("b39f"),Object(C["a"])(ft,dt,pt,!1,null,"30dec226",null)),vt=ht.exports,bt=[{path:"/",component:O},{path:"/class/:classId",name:"class",component:Y},{path:"/class/:classId/edit",name:"edit",component:Q},{path:"/class/:classId/attendance",name:"attendance",component:et},{path:"/class/:classId/edit/attendance/:studentId",name:"edit_attendance",component:ut},{path:"/class/:classId/summary",name:"summary",component:vt}],kt=new c["a"]({routes:bt});a["default"].use(o["a"]),a["default"].use(c["a"]);var Ct={router:kt,name:"App"},gt=Ct,xt=(n("034f"),Object(C["a"])(gt,r,s,!1,null,null,null)),wt=xt.exports,_t=n("ce5b"),yt=n.n(_t);n("bf40"),n("5363");a["default"].use(yt.a);var St={icons:{iconfont:"mdi"}},$t=new yt.a(St);a["default"].config.productionTip=!1,new a["default"]({vuetify:$t,render:function(t){return t(wt)}}).$mount("#app")},"5e5d":function(t,e,n){},7104:function(t,e,n){"use strict";n("5e5d")},"849f":function(t,e,n){"use strict";n("1e20")},"85ec":function(t,e,n){},"8eb4":function(t,e,n){"use strict";n("1219")},b39f:function(t,e,n){"use strict";n("eade")},d1f6:function(t,e,n){"use strict";n("e247")},e04e:function(t,e,n){"use strict";n("2043")},e247:function(t,e,n){},eade:function(t,e,n){}});
//# sourceMappingURL=app.abda4240.js.map