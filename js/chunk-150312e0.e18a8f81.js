(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-150312e0"],{"08b2":function(t,e,n){"use strict";n("fbde")},"58fe":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{persistent:"","max-width":"290"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"headline pink--text"},[t._v(" "+t._s(t.title)+" ")]),n("v-card-text",[t._v(" "+t._s(t.content)+" ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"pink darken-1",text:""},on:{click:function(e){return t.onClickCancel()}}},[t._v("Hủy")]),n("v-btn",{attrs:{color:"pink darken-1",text:""},on:{click:function(e){return t.onClickOK()}}},[t._v("Xóa")])],1)],1)],1)},r=[],i={name:"ConfirmDialogComponent",props:["title","content","dialog"],methods:{onClickOK:function(){this.$emit("update:dialog",!1),this.$emit("onAgree")},onClickCancel:function(){this.$emit("update:dialog",!1)}}},s=i,c=n("2877"),o=Object(c["a"])(s,a,r,!1,null,"96baac22",null);e["a"]=o.exports},"7db0":function(t,e,n){"use strict";var a=n("23e7"),r=n("b727").find,i=n("44d2"),s=n("ae40"),c="find",o=!0,d=s(c);c in[]&&Array(1)[c]((function(){o=!1})),a({target:"Array",proto:!0,forced:o||!d},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(c)},e49a:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("header-component",{attrs:{title:(t.dataClass.className||"")+" / Danh sách",icon:"mdi-arrow-left"},on:{onClickNavIcon:function(e){return t.$router.back()}}}),n("v-container",{attrs:{id:"wrapper"}},[n("v-card",{staticClass:"mb-10 mt-5"},[n("v-banner",{staticClass:"font-weight-bold",attrs:{color:"pink--text"}},[t._v("Học sinh mới")]),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"1"}},[n("v-text-field",{attrs:{label:"Nhập tên học sinh"},model:{value:t.newStudentName,callback:function(e){t.newStudentName=e},expression:"newStudentName"}})],1),n("v-col",{attrs:{cols:"2"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{large:"",color:"pink",icon:""},on:{click:function(e){return t.addStudent()}}},[n("v-icon",[t._v("mdi-account-plus")])],1)],1)],1)],1),n("v-card",[n("v-banner",{staticClass:"font-weight-bold",attrs:{color:"pink--text"}},[t._v(" Danh sách học sinh")]),n("v-container",{attrs:{id:"member-list"}},t._l(t.students,(function(e){return n("v-row",{key:e.id,staticClass:"mb-1",attrs:{align:"center"}},[n("v-container",[t.editedStudent&&t.editedStudent.id===e.id?n("v-row",{attrs:{offset:"1",align:"center"}},[n("v-col",{attrs:{cols:"8",offset:"1"}},[n("v-text-field",{attrs:{label:"Nhập tên học sinh"},on:{onblur:function(n){return t.editStudent(e)}},model:{value:e.studentName,callback:function(n){t.$set(e,"studentName",n)},expression:"student.studentName"}})],1),n("v-col",{attrs:{cols:"2"}},[n("v-btn",{staticClass:"white--text",attrs:{color:"pink",raised:""},on:{click:function(n){return t.editStudent(e)}}},[t._v("Lưu")])],1)],1):n("v-row",{attrs:{align:"center"}},[n("v-col",{staticClass:"pl-5",attrs:{cols:"8"}},[t._v(t._s(e.studentName))]),n("v-col",{attrs:{cols:"1"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{icon:"",color:"pink"},on:{click:function(n){t.isDisplayDialogConfirm=!0,t.currentStudentId=e.id}}},[n("v-icon",[t._v("mdi-account-remove")])],1)],1),n("v-col",{attrs:{cols:"1"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{icon:"",color:"pink"},on:{click:function(n){return t.onClickEditBtn(e)}}},[n("v-icon",[t._v("mdi-pencil")])],1)],1),n("v-col",{attrs:{cols:"1"}},[t.isEdited?t._e():n("v-btn",{staticClass:"white--text",attrs:{color:"pink",icon:""},on:{click:function(n){return t.editAttendanceData(e.id)}}},[n("v-icon",[t._v("mdi-calendar")])],1)],1)],1)],1)],1)})),1)],1),n("confirm-dialog-component",{attrs:{dialog:t.isDisplayDialogConfirm,title:"Chắc chắn chưa ?",content:"Sau khi xóa dữ liệu học sinh sẽ không thể lấy lại được đâu nha !!"},on:{"update:dialog":function(e){t.isDisplayDialogConfirm=e},onAgree:function(e){return t.removeStudent(t.currentStudentId)}}}),n("snackbar-component",{attrs:{text:t.errorMessage},on:{"update:text":function(e){t.errorMessage=e}}})],1)],1)},r=[],i=(n("7db0"),n("96cf"),n("1da1")),s=n("5a9f"),c=n("58fe"),o=n("ed1a"),d=n("1acf"),u={name:"EditStudentInfoComponent",components:{ConfirmDialogComponent:c["a"],SnackbarComponent:o["a"],HeaderComponent:d["a"]},created:function(){var t=this.$route.params.classId;this.$bind("students",Object(s["b"])().doc(t).collection("data")),this.$bind("dataClass",Object(s["b"])().doc(t))},data:function(){return{dataClass:{},currentStudentId:null,editedStudent:null,isEdited:!1,students:[],newStudentName:"",errorMessage:"",isDisplayDialogConfirm:!1}},computed:{studentsRef:function(){return Object(s["b"])().doc(this.$route.params.classId).collection("data")}},methods:{onClickEditBtn:function(t){this.isEdited||(this.editedStudent=t,this.isEdited=!0)},editStudent:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,!t.studentName){n.next=9;break}return n.next=4,e.studentsRef.doc(e.editedStudent.id).update({studentName:t.studentName});case 4:e.editedStudent=null,e.errorMessage="",e.isEdited=!1,n.next=10;break;case 9:e.errorMessage="Name can't empty";case 10:n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),e.errorMessage=n.t0;case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},removeStudent:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.studentsRef.doc(t).delete();case 3:n.next=8;break;case 5:n.prev=5,n.t0=n["catch"](0),e.errorMessage=n.t0;case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},addStudent:function(){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.students.find((function(e){return e===t.newStudentName})),!n){e.next=5;break}t.errorMessage="Học sinh này đã tồn tại rùi!",e.next=19;break;case 5:if(e.prev=5,!t.newStudentName){e.next=13;break}return e.next=9,t.studentsRef.add({studentName:t.newStudentName});case 9:t.newStudentName="",t.errorMessage="",e.next=14;break;case 13:t.errorMessage="Tên học sinh không được để trống nhé!";case 14:e.next=19;break;case 16:e.prev=16,e.t0=e["catch"](5),t.errorMessage=e.t0;case 19:case"end":return e.stop()}}),e,null,[[5,16]])})))()},editAttendanceData:function(t){var e=this.$route.params.classId;this.$router.push({name:"edit_attendance",params:{studentId:t,classId:e}})}}},l=u,f=(n("08b2"),n("2877")),v=Object(f["a"])(l,a,r,!1,null,"3fb2e19c",null);e["default"]=v.exports},fbde:function(t,e,n){}}]);